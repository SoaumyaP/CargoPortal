<ng-template class="home-info-tooltip" #homeTooltipTemplate let-anchor>
    <span>{{anchor.nativeElement.getAttribute('data-tooltip')}}</span>
</ng-template>

<div class="content__header">
    <div class="row">
        <div class="col-12 dashboard-header">
            <div class="header-group">
                <label class="list-header">{{'label.dashboard' | translate}}</label>
            </div>

            <div *ngIf="currentUser.status != status.Rejected">
                <p *ngIf="currentUser.status == status.Pending"> {{'msg.appAccountPending' | translate}}</p>
                <p *ngIf="currentUser.status == status.Active">{{'msg.welcome' | translate:{name: currentUser.name} }}</p>
            </div>

            <div class="reject-group" *ngIf="currentUser.status == status.Rejected">
                <div class="reject-info">
                    <p [innerHTML]="'msg.appAccountRejected' | translate"></p>
                </div>
                <div class="reject-info">
                    <p> {{'msg.appAccountResubmit' | translate }} </p>
                </div>
                <div class="reject-info">
                    <button type="submit" class="btn prim-button resubmit-btn" (click)="resubmit()"
                        [disabled]="isDisableResubmit">{{'label.resubmit' | translate}}</button>
                </div>
            </div>
        </div>
    </div>

    <div class="row chart-group today-update-section" *ngIf="todayUpdate.totalAwaitingForSubmission > 0 || todayUpdate.totalPendingForApproval > 0 
        || !todayUpdate.mobile_notificationDismissed || todayUpdate.surveyParticipants.length > 0  || todayUpdate.shortShip > 0">
        <div class="col card-wrapper">
            <div class="card updates-of-today-container">
                <div class="card-body" style="min-height: auto;">
                    <div class="row">
                        <div class="col">
                            <div class="">
                                <label style="font-weight: bold;font-size: 16px;">{{'label.updateOfToday' | translate}}:</label>
                            </div>
                            <p *ngIf="todayUpdate.totalAwaitingForSubmission > 0">
                                <fa-icon class="fa-light"  [icon]="faLightbulb"></fa-icon>
                                <span class="pl-3">{{'label.youHaveCreated' | translate}} <a class="font-weight-bold" routerLink="/po-fulfillments" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.DraftBooking, userRole: currentUser?.role?.name}">{{todayUpdate.totalAwaitingForSubmission}} {{'label.bookings' | translate | lowercase}}</a> {{'label.andWaitingForSubmission' | translate}}.</span>
                            </p>

                            <p *ngIf="todayUpdate.shortShip > 0" >
                                <fa-icon class="fa-light" [icon]="faLightbulb"></fa-icon>
                                <span class="pl-3"><a class="font-weight-bold" routerLink="/shortships" routerLinkActive="router-link-active" 
                                    [state]="{ statisticKey: StatisticKey.Shortships}">{{todayUpdate.shortShip}} {{'label.shortShips' | translate}}</a> {{'label.withAutoApproved' | translate}}</span>
                            </p>

                            <p *ngIf="todayUpdate.totalPendingForApproval > 0" >
                                <fa-icon class="fa-light" [icon]="faLightbulb"></fa-icon>
                                <span class="pl-3"><a class="font-weight-bold" routerLink="/buyer-approvals" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.pendingBooking, userRole: currentUser?.role?.name}"> {{todayUpdate.totalPendingForApproval}} {{'label.bookings' | translate | lowercase}}</a> {{'label.areSubmittedAndPendingForApproval' | translate}}.</span>
                            </p>

                            <p *ngIf="todayUpdate.surveyParticipants.length > 0" >
                                <fa-icon class="fa-light" [icon]="faLightbulb"></fa-icon>
                                <span class="pl-3">
                                    <a class="font-weight-bold" routerLinkActive="router-link-active" >{{todayUpdate.surveyParticipants.length}} {{(todayUpdate.surveyParticipants.length > 1 ? 'label.surveys': 'label.survey')  | translate}}</a> 
                                    {{(todayUpdate.surveyParticipants.length > 1 ? 'label.areSentToYou':'label.isSentToYou')  | translate}}
                                </span>
                                 &nbsp;<span class="dismiss" (click)="onClickDismissSurveys()">{{'label.dismiss' | translate}}</span>
                                <br>
                                <span *ngFor="let item of todayUpdate.surveyParticipants" class="survey-name-container">
                                    <span class="pl-3"><a class="" routerLink="/surveys/{{item.surveyId}}/question-answer" [queryParams]="{mode:'submit'}" routerLinkActive="router-link-active" >{{item.survey.name}}</a></span><br>
                                </span>
                            </p>

                            <p *ngIf="!todayUpdate.mobile_notificationDismissed">
                                <fa-icon class="fa-light" [icon]="faLightbulb"></fa-icon>
                                <span class="pl-3">
                                    <span [innerHTML]="(todayUpdate.mobile_isNewRelease ? 'label.todayUpdate.newMobileReleased' : 'label.todayUpdate.currentMobileReleased') | translate : {appVersion: todayUpdate.mobile_version, appPackageLink: '<a class=\'font-weight-bold\' href=\'' + todayUpdate.mobile_packageUrl + '\'>' + ('label.warehouseReceive' | translate) + '</a>'}"></span>.
                                    &nbsp;<span class="dismiss" (click)="onClickMobileTodayUpdateDismiss()">{{'label.dismiss' | translate}}</span>
                                </span>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row chart-group" *hasPermission="[AppPermissions.Dashboard_CategorizedPO]">
        <div class="col-12">
            <div class="card">
                <app-categorized-po></app-categorized-po>
            </div>
        </div>
    </div>

    <div class="row chart-group">
        <div class="col-4 card-wrapper">
            <div class="card" *hasPermission="[AppPermissions.Dashboard_EndToEndShipmentStatus]">
                <div class="card-body" style="min-height: auto;">
                    <div class="row">
                        <div class="col">
                            <kendo-dropdownlist
                            [valuePrimitive]="true"
                            [textField]="'label'"
                            [valueField]="'value'"
                            [(ngModel)]="unbookedAndBookedDropdownModel"
                            [data]="unbookedAndBookedDropdown"
                            class="form-control custom-filter"
                            (valueChange)="onChangeUnbookedAndBooked()"
                            [popupSettings]="{appendTo:'component'}"
                            >
                                <ng-template kendoDropDownListValueTemplate let-dataItem>
                                    {{ dataItem?.label | translate }}
                                </ng-template>
                                <ng-template kendoDropDownListItemTemplate let-dataItem>
                                    {{ dataItem?.label | translate }}
                                </ng-template>
                            </kendo-dropdownlist>
                        </div>
                    </div>

                        <div class="row">
                            <div class="col">
                                <div class="statistic-box text-center">
                                    <h2 class="font-weight-bold">
                                        <a *ngIf="!(!unbookedPOStatistics || isLoadingUnbookedPOStatistics) else loadingIcon" (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POUnbooked, statisticFilter: unbookedAndBookedDropdownModel }">
                                            {{ unbookedPOStatistics?.totalPO | number: '1.0'}}
                                        </a>

                                        <ng-template #loadingIcon>
                                            <span  class="k-i-loading k-icon loading"></span>
                                        </ng-template>
                                    </h2>

                                    <span class="statistics-title">
                                        {{'label.unbooked' | translate}}
                                    </span>
                                </div>
                            </div>

                            <div class="col">
                                <div class="statistic-box text-center">
                                    <h2 class="font-weight-bold">
                                        <a *ngIf="!(!bookedPOStatistics || isLoadingbookedPOStatistics) else loadingIcon" (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POBooked, statisticFilter: unbookedAndBookedDropdownModel }">
                                            {{ bookedPOStatistics?.totalPO | number: '1.0'}}
                                        </a>

                                        <ng-template #loadingIcon>
                                            <span  class="k-i-loading k-icon loading"></span>
                                        </ng-template>
                                    </h2>

                                    <span class="statistics-title">
                                        {{'label.booked' | translate}}
                                    </span>
                                </div>
                            </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-8">
            <div class="row chart-group">
                <div class="col card-wrapper" *hasPermission="[AppPermissions.Dashboard_EndToEndShipmentStatus]">
                    <div class="card">
                        <div class="card-body" style="min-height: auto;">
                            <div class="row">
                                <div class="col">
                                    <kendo-dropdownlist
                                                                        [valuePrimitive]="true"
                                                                        [textField]="'label'"
                                                                        [valueField]="'value'"
                                                                        [data]="shipmentStatusDropdown"
                                                                        [(ngModel)]="inOriginDCAndInTransitDropdownModel"
                                                                        (valueChange)="onChangeInOriginDCAndInTransitDropdown()"
                                                                        [popupSettings]="{appendTo:'component'}"
                                                                        class="form-control custom-filter">
                                                        <ng-template kendoDropDownListValueTemplate let-dataItem>
                                                            {{ dataItem?.label | translate }}
                                                        </ng-template>
                                                        <ng-template kendoDropDownListItemTemplate let-dataItem>
                                                            {{ dataItem?.label | translate }}
                                                        </ng-template>
                                    </kendo-dropdownlist>
                                </div>
                            </div>

                            <div class="row">
                                <div class="col">
                                    <div class="statistic-box text-center">
                                        <h2 class="font-weight-bold">
                                            <a *ngIf="!(!inOriginDC || isLoadingInOriginDC) else loadingIcon" (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POInOriginDC, statisticFilter: inOriginDCAndInTransitDropdownModel}">
                                                {{ inOriginDC?.total | number: '1.0'}}
                                            </a>
        
                                            <ng-template #loadingIcon>
                                                <span class="k-i-loading k-icon loading"></span>
                                            </ng-template>
                                        </h2>
                                        <span class="statistics-title">
                                            {{'label.inOriginDC' | translate}}
                                        </span>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="statistic-box text-center">
                                        <h2 class="font-weight-bold">
                                            <a *ngIf="!(!inTransit || isLoadingInTransit) else loadingIcon" (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POInTransit, statisticFilter: inOriginDCAndInTransitDropdownModel }">
                                                {{ inTransit?.total | number: '1.0'}}
                                            </a>
        
                                        <ng-template #loadingIcon>
                                            <span class="k-i-loading k-icon loading"></span>
                                        </ng-template>
                                        </h2>
                                        <span class="statistics-title">
                                            {{'label.inTransit' | translate}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Vessel arrival  -->
                <div class="col-3 card-wrapper" *hasPermission="[AppPermissions.Dashboard_EndToEndShipmentStatus]">
                    <div class="card">
                        <div class="card-body" style="min-height: auto;">
                            <div class="row">
                                <div class="col">
                                    <kendo-dropdownlist
                                                                        [valuePrimitive]="true"
                                                                        [textField]="'label'"
                                                                        [valueField]="'value'"
                                                                        [data]="vesselArrivalDropdown"
                                                                        [(ngModel)]="vesselArrivalDropdownModel"
                                                                        (valueChange)="onchangeVesselArrivalDropdown()"
                                                                        [popupSettings]="{appendTo:'component'}"
                                                                        class="form-control custom-filter">
                                                        <ng-template kendoDropDownListValueTemplate let-dataItem>
                                                            {{ dataItem?.label | translate }}
                                                        </ng-template>
                                                        <ng-template kendoDropDownListItemTemplate let-dataItem>
                                                            {{ dataItem?.label | translate }}
                                                        </ng-template>
                                    </kendo-dropdownlist>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col">
                                    <div class="statistic-box text-center">
                                        <h2 class="font-weight-bold">
                                            <a *ngIf="!(isloadingVesselArrival || vesselArrival === null) else loadingIcon" (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/vessel-arrivals" routerLinkActive="router-link-active" 
                                            [state]="{ statisticKey: StatisticKey.VesselArrival, statisticFilter: vesselArrivalDropdownModel}">
                                                {{ vesselArrival | number: '1.0'}}
                                            </a>
        
                                            <ng-template #loadingIcon>
                                                <span class="k-i-loading k-icon loading"></span>
                                            </ng-template>
                                        </h2>
                                        <span class="statistics-title">
                                            {{'label.vesselArrival' | translate}}
                                        </span>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="col card-wrapper" *hasPermission="[AppPermissions.Dashboard_EndToEndShipmentStatus]">
                    <div class="card">
                        <div class="card-body" style="min-height: auto;">
                            <div class="row">
                                <div class="col">
                                    <kendo-dropdownlist
                                                                        [valuePrimitive]="true"
                                                                        [textField]="'label'"
                                                                        [valueField]="'value'"
                                                                        [data]="shipmentStatusDropdown"
                                                                        [(ngModel)]="customsClearedAndPendingDCDeliveryDropdownModel"
                                                                        (valueChange)="onChangeShipmentStatusDropdown()"
                                                                        [popupSettings]="{appendTo:'component'}"
                                                                        class="form-control custom-filter">
                                                        <ng-template kendoDropDownListValueTemplate let-dataItem>
                                                            {{ dataItem?.label | translate }}
                                                        </ng-template>
                                                        <ng-template kendoDropDownListItemTemplate let-dataItem>
                                                            {{ dataItem?.label | translate }}
                                                        </ng-template>
                                    </kendo-dropdownlist>
                                </div>
                            </div>
                            
                            <div class="row">
                                <div class="col">
                                    <div class="statistic-box text-center">
                                        <h2 class="font-weight-bold">
                                            <a *ngIf="!(!customsCleared || isLoadingCustomsCleared) else loadingIcon" (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POCustomsCleared, statisticFilter: customsClearedAndPendingDCDeliveryDropdownModel }">
                                                {{ customsCleared?.total | number: '1.0'}}
                                            </a>
        
                                            <ng-template #loadingIcon>
                                                <span class="k-i-loading k-icon loading"></span>
                                            </ng-template>
                                        </h2>
        
                                        <span class="statistics-title">
                                            {{'label.customsCleared' | translate}}
                                        </span>
                                    </div>
                                </div>
                                <div class="col">
                                    <div class="statistic-box text-center">
                                        <h2 class="font-weight-bold">
                                            <a *ngIf="!(!pendingDCDelivery || isLoadingPendingDCDelivery) else loadingIcon" (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POPendingDCDelivery, statisticFilter: customsClearedAndPendingDCDeliveryDropdownModel }">
                                                {{ shipmentPendingDCDelivery?.total | number: '1.0'}}
                                            </a>
        
                                            <ng-template #loadingIcon>
                                                <span class="k-i-loading k-icon loading"></span>
                                            </ng-template>
                                        </h2>
        
                                        <span class="statistics-title">
                                            {{'label.pendingDCDelivery' | translate}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row chart-group" *ngIf="isShowManageYTD_PendingDC">
        <div class="col-6 card-wrapper">
            <div class="card weekly-metric" *hasPermission="[AppPermissions.Dashboard_EndToEndShipmentStatus]">
                <div class="card-body">
                        <span class="statistics-title text-underline">
                            {{'label.managedYTD' | translate}}
                        </span>
                    <span class="k-i-loading k-icon loading" *ngIf="!managedToDatePOStatistic || isLoadingManagedToDatePOStatistic"></span>

                    <kendo-dropdownlist
                                                                [valuePrimitive]="true"
                                                                [textField]="'label'"
                                                                [valueField]="'value'"
                                                                [data]="managedYTDDropdown"
                                                                [(ngModel)]="managedYTDDropdownModel"
                                                                (valueChange)="onChangeManagedYTDDropdown()"
                                                                [popupSettings]="{appendTo:'component'}"
                                                                class="form-control custom-filter">
                                                <ng-template kendoDropDownListValueTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                                                <ng-template kendoDropDownListItemTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                            </kendo-dropdownlist>

                    <div *ngIf="managedToDatePOStatistic" class="card-container">
                        <div class="row">
                            <label class="col-9 ">{{'label.numberOfPO' | translate}}</label>
                            <label class="col-3 font-weight-bold text-right">
                                <a (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POManagedToDate, statisticFilter: managedYTDDropdownModel }">
                                    {{managedToDatePOStatistic.numberOfPO | number: '0.0-0'}}
                                </a>
                            </label>
                        </div>
                        <div class="row">
                            <label class="col-9">{{'label.cbm' | translate}}</label>
                            <label class="col-3 font-weight-bold text-right">{{managedToDatePOStatistic.cbm | number: '0.0-3' }}</label>
                        </div>
                        <div class="row">
                            <label class="col-9">{{'label.units' | translate}}</label>
                            <label class="col-3 font-weight-bold text-right">{{managedToDatePOStatistic.units | number: '0.0-0' }}</label>
                        </div>
                        <div class="row">
                            <label class="col-9">{{'label.fobPrice' | translate}}</label>
                            <label class="col-3 font-weight-bold text-right">{{managedToDatePOStatistic.fobPrice | number: '0.0-2'}}</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-6 card-wrapper">
            <div class="card weekly-metric" *hasPermission="[AppPermissions.Dashboard_EndToEndShipmentStatus]">
                <div class="card-body">
                    <span class="statistics-title text-underline">
                        {{'label.pendingDCDelivery' | translate}}
                    </span>
                    <span class="k-i-loading k-icon loading" *ngIf="!dcDeliveryConfirmed || isLoadingDCDeliveryConfirmed"></span>

                    <kendo-dropdownlist
                                                                [valuePrimitive]="true"
                                                                [textField]="'label'"
                                                                [valueField]="'value'"
                                                                [data]="shipmentPendingDCDropdown"
                                                                [popupSettings]="{appendTo:'component'}"
                                                                [(ngModel)]="shipmentPendingDCDropdownModel"
                                                                (valueChange)="onChangeShipmentPendingDCDropdown()"
                                                                class="form-control custom-filter">
                                                <ng-template kendoDropDownListValueTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                                                <ng-template kendoDropDownListItemTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                            </kendo-dropdownlist>


                    <div *ngIf="dcDeliveryConfirmed" class="card-container">
                        <div class="row">
                            <label class="col-6">{{'label.totalDCPending' | translate}}</label>
                            <label class="col-6 text-right font-weight-bold">
                                <a (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POPendingDCDelivery, statisticFilter: shipmentPendingDCDropdownModel }">
                                    {{ pendingDCDelivery?.total | number: '0.0-0'}}
                                </a>
                            </label>
                        </div>
                        <div class="row">
                            <label class="col-6">&nbsp;</label>
                        </div>
                        <div class="row">
                            <label class="col-6">{{'label.dcDeliveryConfirmed' | translate}}</label>
                            <label class="col-6 text-right">
                                <a (click)="gaEmitEvent('Listing in Shipment Status')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.PODCDeliveryConfirmed, statisticFilter: shipmentPendingDCDropdownModel }">
                                    {{ dcDeliveryConfirmed?.total | number: '0.0-0'}}
                                </a>
                            </label>
                        </div>
                        <div class="row" *ngIf="dcDeliveryPending != null">
                            <label class="col-6">{{'label.dcDeliveryPending' | translate}}</label>
                            <label class="col-6 text-right">{{ dcDeliveryPending | number: '0.0-0'}}</label>
                        </div>
                    </div>
               </div>
            </div>
       </div>
    </div>

    <div class="row chart-group">
        <div class="col-4 card-wrapper">
            <div class="card weekly-metric" *hasPermission="[AppPermissions.Dashboard_ThisWeekShipments]">
                <div class="card-body">
                    <span class="chart-title">
                        {{'label.shipment' | translate}}
                    </span>

                    <kendo-dropdownlist
                                                                [valuePrimitive]="true"
                                                                [textField]="'label'"
                                                                [valueField]="'value'"
                                                                [data]="shipmentDropdown"
                                                                [(ngModel)]="shipmentDropdownModel"
                                                                (valueChange)="onChangeShipmentDropdownModel()"
                                                                [popupSettings]="{appendTo:'component'}"
                                                                class="form-control custom-filter">
                                                <ng-template kendoDropDownListValueTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                                                <ng-template kendoDropDownListItemTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                            </kendo-dropdownlist>

                    <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                        <span class="chart-title" attr.data-tooltip="{{weekShipments?.thisWeekRange}}">{{'label.lastSevenDays' | translate | lowercase}}</span>
                    </span> -->

                    <span class="k-i-loading k-icon loading" *ngIf="!weekShipments || isLoadingWeekShipments"></span>
                    <div *ngIf="weekShipments?.hasData" class="card-container">
                        <h2 class="font-weight-bold">
                            <a (click)="gaEmitEvent('Listing in Shipments')" routerLink="/shipments" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.ShipmentInThisWeek, statisticFilter: shipmentDropdownModel }">
                                {{weekShipments.currentValue | number: '1.0'}}
                            </a>
                            <span class="float-right metric-label" [class.text-success]="weekShipments.delta.up"
                                [class.text-danger]="!weekShipments.delta.up">
                                <fa-icon [icon]="weekShipments.delta.up ? faCaretUp : faCaretDown"></fa-icon>
                                {{(weekShipments.delta.value || 0) | number}}%
                            </span>
                        </h2>
                        <p class="font-weight-light text-muted">
                            <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                                <span attr.data-tooltip="{{weekShipments?.lastWeekRange}}">{{'label.theWeekBefore' | translate}}: </span>
                            </span>
                            <span>
                                <a (click)="gaEmitEvent('Listing in Shipments')" routerLink="/shipments" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.ShipmentInLastWeek, statisticFilter: 'Week Before' }">
                                    {{weekShipments.prevValue | number: '1.0'}}
                                </a>
                            </span>
                        </p>
                    </div>
                    <span *ngIf="!weekShipments?.hasData" class="no-data-msg">
                        {{'label.noDataAvailable' | translate }}
                    </span>
                </div>
            </div>
        </div>
        <div class="col-4 card-wrapper">
            <div class="card weekly-metric" *hasPermission="[AppPermissions.Dashboard_ThisWeekCustomerPO]">
                <div class="card-body">
                    <span class="chart-title">
                        {{'label.poIssued' | translate }}
                    </span>

                    <kendo-dropdownlist
                                                                [valuePrimitive]="true"
                                                                [textField]="'label'"
                                                                [valueField]="'value'"
                                                                [data]="poIssuedDropdown"
                                                                [(ngModel)]="poIssuedDropdownModel"
                                                                (valueChange)="onChangePOIssuedDropdown()"
                                                                [popupSettings]="{appendTo:'component'}"
                                                                class="form-control custom-filter">
                                                <ng-template kendoDropDownListValueTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                                                <ng-template kendoDropDownListItemTemplate let-dataItem>
                                                    {{ dataItem?.label | translate }}
                                                </ng-template>
                            </kendo-dropdownlist>
                    <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                        <span class="chart-title" attr.data-tooltip="{{weekCustomerPO?.thisWeekRange}}">{{'label.lastSevenDays' | translate | lowercase}}</span>
                    </span> -->
                    <span class="k-i-loading k-icon loading" *ngIf="!weekCustomerPO || isLoadingWeekCustomerPO"></span>
                    <div *ngIf="weekCustomerPO?.hasData" class="card-container">
                        <h2 class="font-weight-bold">
                            <a (click)="gaEmitEvent('Listing in Customer PO')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POIssuedInThisWeek, statisticFilter: poIssuedDropdownModel }">
                                {{weekCustomerPO.currentValue | number: '1.0'}}
                            </a>
                            <span class="float-right metric-label" [class.text-success]="weekCustomerPO.delta.up"
                                [class.text-danger]="!weekCustomerPO.delta.up">
                                <fa-icon [icon]="weekCustomerPO.delta.up ? faCaretUp : faCaretDown"></fa-icon>
                                {{(weekCustomerPO.delta.value || 0) | number}}%
                            </span>
                        </h2>
                        <p class="font-weight-light text-muted">
                            <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                                <span attr.data-tooltip="{{weekCustomerPO?.lastWeekRange}}">{{'label.theWeekBefore' | translate}}: </span>
                            </span>
                            <a (click)="gaEmitEvent('Listing in Customer PO')" routerLink="/purchase-orders" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.POIssuedInLastWeek, statisticFilter: 'Week Before' }">
                                <span>{{weekCustomerPO.prevValue | number: '1.0'}}</span>
                            </a>
                        </p>
                    </div>
                <span *ngIf="!weekCustomerPO?.hasData" class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>
        </div>
        <div class="col-4 card-wrapper">
            <div class="card weekly-metric" *hasPermission="[AppPermissions.Dashboard_ThisWeekOceanVolume]">
                <div class="card-body">
                    <span class="chart-title">
                        {{'label.shipmentVolume' | translate }}
                    </span>
                    <kendo-dropdownlist
                            [valuePrimitive]="true"
                            [textField]="'label'"
                            [valueField]="'value'"
                            [data]="shipmentVolumeDropdown"
                            [(ngModel)]="shipmentVolumeDropdownModel"
                            (valueChange)="onChangeShipmentVolumeDropdown()"
                            [popupSettings]="{appendTo:'component'}"
                            class="form-control custom-filter">
                            <ng-template kendoDropDownListValueTemplate let-dataItem>
                                {{ dataItem?.label | translate }}
                            </ng-template>
                            <ng-template kendoDropDownListItemTemplate let-dataItem>
                                {{ dataItem?.label | translate }}
                            </ng-template>
                </kendo-dropdownlist>
                    <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                        <span class="chart-title" attr.data-tooltip="{{thisWeekOceanVolumeRange}}">{{'label.lastSevenDays' | translate | lowercase}}</span>
                    </span> -->
                    <span class="k-i-loading k-icon loading" *ngIf="!weekOceanVolumeByMovements || isLoadingWeekOceanVolumeByMovements"></span>
                    <div *ngIf="hasWeekOceanVolumeData" class="card-container line-spacing-3">
                        <p *ngFor="let dataItem of weekOceanVolumeByMovements" class="font-weight-light text-muted">
                            {{ dataItem.category }}: <a (click)="gaEmitEvent('Listing in Shipment Volume')" routerLink="/shipments" routerLinkActive="router-link-active" [state]="{ statisticKey: getWeeklyShipmentVolumeStatisticKey(dataItem.category), statisticFilter: shipmentVolumeDropdownModel }">{{dataItem.currentValue | number: '0.0-3'}}</a> {{ dataItem.unit }}
                            <span style="min-width: 70px" class="float-right" [class.text-success]="dataItem.delta.up"
                                [class.text-danger]="!dataItem.delta.up">
                                <fa-icon [icon]="dataItem.delta.up ? faCaretUp : faCaretDown"></fa-icon>
                                <span class="float-right">{{(dataItem.delta.value || 0) | number}}%</span>
                            </span>
                        </p>
                    </div>
                    <span *ngIf="!hasWeekOceanVolumeData" class="no-data-msg">
                        {{'label.noDataAvailable' | translate }}
                    </span>
                </div>
            </div>
        </div>
    </div>

    <div class="row chart-group">
        <div class="col-6 card-wrapper">
            <div class="card chart-container" *hasPermission="[AppPermissions.Dashboard_MonthlyTop5OceanVolumeByOrigin]">
                <div class="chart-title">
                    {{'label.monthlyTop5OceanVolumeByOrigin' | translate }}
                </div>

                <kendo-dropdownlist
                            [valuePrimitive]="true"
                            [textField]="'label'"
                            [valueField]="'value'"
                            [data]="top5ShipmentOriginDropdown"
                            [(ngModel)]="top5ShipmentOriginDropdownModel"
                            (valueChange)="onChangeTop5ShipmentOriginDropdown()"
                            [popupSettings]="{appendTo:'component'}"
                            class="form-control custom-filter">
                            <ng-template kendoDropDownListValueTemplate let-dataItem>
                                {{ dataItem?.label | translate }}
                            </ng-template>
                            <ng-template kendoDropDownListItemTemplate let-dataItem>
                                {{ dataItem?.label | translate }}
                            </ng-template>
                </kendo-dropdownlist>

                <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                    <span class="chart-title" attr.data-tooltip="{{top5OceanVolumeByOrigin?.lastMonthStartDate | date: DATE_FORMAT}} to {{top5OceanVolumeByOrigin?.thisMonthStartDate| date: DATE_FORMAT}}">{{'label.lastMonth' | translate | lowercase}}</span>
                </span> -->
                <span class="k-i-loading k-icon loading" *ngIf="!top5OceanVolumeByOrigin || isLoadingTop5OceanVolumeByOrigin"></span>
                <kendo-chart  *ngIf="isShowTop5OceanVolumeByOrigin(top5OceanVolumeByOrigin)"
                (seriesClick)="onClickShipmentVolumeByOrigin($event)" class="chart-content k-chart-pointer">
                    <kendo-chart-category-axis>
                        <kendo-chart-category-axis-item [categories]="top5OceanVolumeByOrigin.top5">
                        </kendo-chart-category-axis-item>
                    </kendo-chart-category-axis>
                    <kendo-chart-series>
                        <kendo-chart-series-item type="column" [data]="top5OceanVolumeByOrigin.teUs">
                            <kendo-chart-series-item-labels [content]="labelTEU">
                            </kendo-chart-series-item-labels>
                        </kendo-chart-series-item>
                    </kendo-chart-series>

                    <kendo-chart-value-axis>
                        <kendo-chart-value-axis-item>
                            <kendo-chart-value-axis-item-labels [content]="axisTEU">
                            </kendo-chart-value-axis-item-labels>
                        </kendo-chart-value-axis-item>
                    </kendo-chart-value-axis>
                </kendo-chart>
                <span *ngIf="!isShowTop5OceanVolumeByOrigin(top5OceanVolumeByOrigin)" class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>

        <div class="col-6 card-wrapper">
            <div class="card chart-container" *hasPermission="[AppPermissions.Dashboard_MonthlyTop5OceanVolumeByDestination]" >
                <div class="chart-title">
                    {{'label.monthlyTop5OceanVolumeByDestination' | translate }}
                </div>

                <kendo-dropdownlist
                            [valuePrimitive]="true"
                            [textField]="'label'"
                            [valueField]="'value'"
                            [data]="top5ShipmentDestinationDropdown"
                            [(ngModel)]="top5ShipmentDestinationDropdownModel"
                            (valueChange)="onChangeTop5ShipmentDestinationDropdown()"
                            [popupSettings]="{appendTo:'component'}"
                            class="form-control custom-filter">
                            <ng-template kendoDropDownListValueTemplate let-dataItem>
                                {{ dataItem?.label | translate }}
                            </ng-template>
                            <ng-template kendoDropDownListItemTemplate let-dataItem>
                                {{ dataItem?.label | translate }}
                            </ng-template>
                </kendo-dropdownlist>

                <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                    <span class="chart-title" attr.data-tooltip="{{top5OceanVolumeByDestination?.lastMonthStartDate | date: DATE_FORMAT}} to {{top5OceanVolumeByDestination?.thisMonthStartDate| date: DATE_FORMAT}}">{{'label.lastMonth' | translate | lowercase}}</span>
                </span> -->
                <span class="k-i-loading k-icon loading" *ngIf="!top5OceanVolumeByDestination || isLoadingTop5OceanVolumeByDestination"></span>
                <kendo-chart *ngIf="isShowTop5OceanVolumeByOrigin(top5OceanVolumeByDestination)" class="chart-content k-chart-pointer"
                (seriesClick)="onClickShipmentVolumeByDestination($event)">
                    <kendo-chart-category-axis>
                        <kendo-chart-category-axis-item [categories]="top5OceanVolumeByDestination.top5">
                        </kendo-chart-category-axis-item>
                    </kendo-chart-category-axis>
                    <kendo-chart-series>
                        <kendo-chart-series-item type="column" [data]="top5OceanVolumeByDestination.teUs">
                            <kendo-chart-series-item-labels [content]="labelTEU">
                            </kendo-chart-series-item-labels>
                        </kendo-chart-series-item>
                    </kendo-chart-series>
                    <kendo-chart-value-axis>
                        <kendo-chart-value-axis-item>
                            <kendo-chart-value-axis-item-labels [content]="axisTEU">
                            </kendo-chart-value-axis-item-labels>
                        </kendo-chart-value-axis-item>
                    </kendo-chart-value-axis>
                </kendo-chart>
                <span *ngIf="!isShowTop5OceanVolumeByOrigin(top5OceanVolumeByDestination)" class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>

    </div>

    <div class="row chart-group">
        <div class="col-6 card-wrapper">
            <div class="card chart-container" *hasPermission="[AppPermissions.Dashboard_MonthlyOceanVolumeByMovement]">
                <span class="chart-title">
                    {{'label.monthlyTopOceanVolumeByMovement' | translate }}
                </span>
                <kendo-dropdownlist
                [valuePrimitive]="true"
                [textField]="'label'"
                [valueField]="'value'"
                [data]="shipmentVolumeByMovementDropdown"
                [(ngModel)]="shipmentVolumeByMovementDropdownModel"
                (valueChange)="onChangeShipmentVolumeByMovementDropdown()"
                [popupSettings]="{appendTo:'component'}"
                class="form-control custom-filter">
                <ng-template kendoDropDownListValueTemplate let-dataItem>
                    {{ dataItem?.label | translate }}
                </ng-template>
                <ng-template kendoDropDownListItemTemplate let-dataItem>
                    {{ dataItem?.label | translate }}
                </ng-template>
    </kendo-dropdownlist>
                <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                    <span class="chart-title" attr.data-tooltip="{{lastMonthOceanVolumeByMovementRange}}">{{'label.lastMonth' | translate | lowercase}}</span>
                </span> -->
                <span class="k-i-loading k-icon loading" *ngIf="!monthlyOceanVolumeByMovement || isLoadingMonthlyOceanVolumeByMovement"></span>
                <kendo-chart *ngIf="isShowMonthlyOceanVolume(monthlyOceanVolumeByMovement)" class="chart-content k-chart-pointer" (seriesClick)="onMonthlyOceanVolumeClicked($event, dashboardChartName.shipmentVolumeByMovement)">
                    <kendo-chart-legend position="bottom"></kendo-chart-legend>
                    <kendo-chart-series>
                        <kendo-chart-series-item type="pie" [data]="monthlyOceanVolumeByMovement" field="value"
                            categoryField="category">
                            <kendo-chart-series-item-tooltip>
                                <ng-template let-value="value" let-category="category" let-dataItem="dataItem">
                                    <div>{{ category }}</div>
                                    <div><strong>{{ dataItem.percentage | percent:'1.2-2' }}</strong></div>
                                </ng-template>
                            </kendo-chart-series-item-tooltip>
                        </kendo-chart-series-item>
                    </kendo-chart-series>
                </kendo-chart>
                <span *ngIf="!isShowMonthlyOceanVolume(monthlyOceanVolumeByMovement)" class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>

        <div class="col-6 card-wrapper">
            <div class="card chart-container" *hasPermission="[AppPermissions.Dashboard_MonthlyOceanVolumeByServiceType]">
                <span class="chart-title">
                    {{'label.monthlyTopOceanVolumeByServiceType' | translate }}
                </span>

                <kendo-dropdownlist
                [valuePrimitive]="true"
                [textField]="'label'"
                [valueField]="'value'"
                [data]="shipmentVolumeByServiceTypeDropdown"
                (valueChange)="onChangeShipmentVolumeByServiceTypeDropdown()"
                [(ngModel)]="shipmentVolumeByServiceTypeDropdownModel"
                [popupSettings]="{appendTo:'component'}"
                class="form-control custom-filter">
                <ng-template kendoDropDownListValueTemplate let-dataItem>
                    {{ dataItem?.label | translate }}
                </ng-template>
                <ng-template kendoDropDownListItemTemplate let-dataItem>
                    {{ dataItem?.label | translate }}
                </ng-template>
    </kendo-dropdownlist>
                <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                    <span class="chart-title" attr.data-tooltip="{{lastMonthOceanVolumeByServiceTypeRange}}">{{'label.lastMonth' | translate | lowercase}}</span>
                </span> -->
                <span class="k-i-loading k-icon loading" *ngIf="!monthlyOceanVolumeByServiceType || isLoadingMonthlyOceanVolumeByServiceType"></span>
                <kendo-chart *ngIf="isShowMonthlyOceanVolume(monthlyOceanVolumeByServiceType)" (seriesClick)="onMonthlyOceanVolumeClicked($event, dashboardChartName.shipmentVolumeByServiceType)"
                    class="chart-content k-chart-pointer">
                    <kendo-chart-legend position="bottom"></kendo-chart-legend>
                    <kendo-chart-series>
                        <kendo-chart-series-item type="pie" [data]="monthlyOceanVolumeByServiceType" field="value"
                            categoryField="category">
                            <kendo-chart-series-item-tooltip>
                                <ng-template let-value="value" let-category="category" let-dataItem="dataItem">
                                    <div>{{ category }}</div>
                                    <div><strong>{{dataItem.percentage | percent:'1.2-2'}}</strong></div>
                                </ng-template>
                            </kendo-chart-series-item-tooltip>
                        </kendo-chart-series-item>
                    </kendo-chart-series>
                </kendo-chart>
                <span *ngIf="!isShowMonthlyOceanVolume(monthlyOceanVolumeByServiceType)"
                    class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>
    </div>

    <div class="row chart-group">
        <div class="col-6 card-wrapper" *hasPermission="[AppPermissions.Dashboard_Top10ConsigneeThisWeek]">
            <div class="card table-container">
                <div class="chart-title">

                    {{'label.top10Consignee' | translate }}
                    <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                        <span class="chart-title" attr.data-tooltip="{{top10ConsigneeThisWeek?.queryStartDate|date:DATE_FORMAT}} {{'label.to'|translate}} {{top10ConsigneeThisWeek?.queryEndDate|date:DATE_FORMAT}}">{{'label.lastSevenDays' | translate | lowercase}}</span>
                    </span> -->

                    <kendo-dropdownlist
                        [valuePrimitive]="true"
                        [textField]="'label'"
                        [valueField]="'value'"
                        [data]="top10ConsigneeDropdown"
                        (valueChange)="onChangeTop10ConsigneeDropdown()"
                        [(ngModel)]="top10ConsigneeDropdownModel"
                        [popupSettings]="{appendTo:'component'}"
                        class="form-control custom-filter">
                        <ng-template kendoDropDownListValueTemplate let-dataItem>
                            {{ dataItem?.label | translate }}
                        </ng-template>
                        <ng-template kendoDropDownListItemTemplate let-dataItem>
                            {{ dataItem?.label | translate }}
                        </ng-template>
                    </kendo-dropdownlist>
                </div>
                <span class="k-i-loading k-icon loading" *ngIf="!top10ConsigneeThisWeek?.data || isLoadingTop10ConsigneeThisWeek"></span>
                <kendo-grid #grid="kendoGrid" *ngIf="top10ConsigneeThisWeek?.data"
                    [data]="top10ConsigneeThisWeek.data"
                    class="custom-border-grid grid-margin" [hidden]="top10ConsigneeThisWeek.data.length < 1">
                    <kendo-grid-column title="#" width="50" [headerClass]="'center-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                            <div class="center-cell">
                                {{rowIndex + 1}}.
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="name" title="{{'label.consigneeName' | translate}}">
                    </kendo-grid-column>

                    <kendo-grid-column field="noOfShipment" title="{{'label.noOfShipment' | translate}}" [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                <a (click)="gaEmitEvent('Listing in Top 10 Consignee')" routerLink="/shipments" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.ShipmentByConsigneeThisWeek + '-' + encode(dataItem.name), statisticFilter:top10ConsigneeDropdownModel }">
                                    {{dataItem.noOfShipment | number}}
                                </a>
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="totalVolume" title="{{'label.volumeCBM' | translate}}"  [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                {{dataItem.totalVolume | number: '0.3'}}
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="totalGrossWeight" title="{{'label.grossWeightKGS' | translate}}" [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                {{dataItem.totalGrossWeight | number: '0.2'}}
                            </div>
                        </ng-template>
                    </kendo-grid-column>
                </kendo-grid>
                <span *ngIf="top10ConsigneeThisWeek && top10ConsigneeThisWeek.data && top10ConsigneeThisWeek.data.length < 1" class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>
        <div class="col-6 card-wrapper" *hasPermission="[AppPermissions.Dashboard_Top10ShipperThisWeek]">
            <div class="card table-container">
                <div class="chart-title">

                    {{'label.top10Shipper' | translate }}
                    <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                        <span class="chart-title" attr.data-tooltip="{{top10ShipperThisWeek?.queryStartDate|date:DATE_FORMAT}} {{'label.to'|translate}} {{top10ShipperThisWeek?.queryEndDate|date:DATE_FORMAT}}">{{'label.lastSevenDays' | translate | lowercase}}</span>
                    </span> -->

                    <kendo-dropdownlist
                    [valuePrimitive]="true"
                    [textField]="'label'"
                    [valueField]="'value'"
                    [data]="top10ShipperDropdown"
                    (valueChange)="onChangeTop10ShipperDropdown()"
                    [(ngModel)]="top10ShipperDropdownModel"
                    [popupSettings]="{appendTo:'component'}"
                    class="form-control custom-filter">
                    <ng-template kendoDropDownListValueTemplate let-dataItem>
                        {{ dataItem?.label | translate }}
                    </ng-template>
                    <ng-template kendoDropDownListItemTemplate let-dataItem>
                        {{ dataItem?.label | translate }}
                    </ng-template>
                </kendo-dropdownlist>
                </div>
                <span class="k-i-loading k-icon loading" *ngIf="!top10ShipperThisWeek?.data || isLoadingTop10ShipperThisWeek"></span>
                <kendo-grid #grid="kendoGrid" *ngIf="top10ShipperThisWeek?.data"
                    [data]="top10ShipperThisWeek.data"
                    class="custom-border-grid grid-margin" [hidden]="top10ShipperThisWeek.data.length < 1">
                    <kendo-grid-column title="#" width="50" [headerClass]="'center-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                            <div class="center-cell">
                                {{rowIndex + 1}}.
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="name" title="{{'label.shipperName' | translate}}">
                    </kendo-grid-column>

                    <kendo-grid-column field="noOfShipment" title="{{'label.noOfShipment' | translate}}" [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                <a (click)="gaEmitEvent('Listing in Top 10 Shipper')" routerLink="/shipments" routerLinkActive="router-link-active" [state]="{ statisticKey: StatisticKey.ShipmentByShipperThisWeek + '-' + encode(dataItem.name), statisticFilter:top10ShipperDropdownModel }">
                                    {{dataItem.noOfShipment | number}}
                                </a>
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="totalVolume" title="{{'label.volumeCBM' | translate}}"  [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                {{dataItem.totalVolume | number: '0.3'}}
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="totalGrossWeight" title="{{'label.grossWeightKGS' | translate}}" [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                {{dataItem.totalGrossWeight | number: '0.2'}}
                            </div>
                        </ng-template>
                    </kendo-grid-column>
                </kendo-grid>
                <span *ngIf="top10ShipperThisWeek && top10ShipperThisWeek.data && top10ShipperThisWeek.data.length < 1" class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>
        <div class="col-6 card-wrapper" *hasPermission="[AppPermissions.Dashboard_Top10CarrierThisWeek]">
            <div class="card table-container">
                <div class="chart-title">

                    {{'label.top10Carrier' | translate }}
                    <!-- <span kendoTooltip filter="span" [tooltipTemplate]="homeTooltipTemplate" position="top">
                        <span class="chart-title" attr.data-tooltip="{{top10CarrierThisWeek?.queryStartDate|date:DATE_FORMAT}} {{'label.to'|translate}} {{top10CarrierThisWeek?.queryEndDate|date:DATE_FORMAT}}">{{'label.lastSevenDays' | translate | lowercase}}</span>
                    </span> -->

                    <kendo-dropdownlist
                    [valuePrimitive]="true"
                    [textField]="'label'"
                    [valueField]="'value'"
                    [data]="top10CarrierDropdown"
                    (valueChange)="onChangeTop10CarrierDropdown()"
                    [(ngModel)]="top10CarrierDropdownModel"
                    [popupSettings]="{appendTo:'component'}"
                    class="form-control custom-filter">
                    <ng-template kendoDropDownListValueTemplate let-dataItem>
                        {{ dataItem?.label | translate }}
                    </ng-template>
                    <ng-template kendoDropDownListItemTemplate let-dataItem>
                        {{ dataItem?.label | translate }}
                    </ng-template>
                </kendo-dropdownlist>
                </div>
                <span class="k-i-loading k-icon loading" *ngIf="!top10CarrierThisWeek?.data || isLoadingTop10CarrierThisWeek"></span>
                <kendo-grid #grid="kendoGrid" *ngIf="top10CarrierThisWeek?.data"
                    [data]="top10CarrierThisWeek.data"
                    class="custom-border-grid grid-margin" [hidden]="top10CarrierThisWeek.data.length < 1">
                    <kendo-grid-column title="#" width="50" [headerClass]="'center-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem let-rowIndex="rowIndex">
                            <div class="center-cell">
                                {{rowIndex + 1}}.
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="name" title="{{'label.carrierName' | translate}}">
                    </kendo-grid-column>

                    <kendo-grid-column field="noOfShipment" title="{{'label.noOfShipment' | translate}}" [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                <a (click)="gaEmitEvent('Listing in Top 10 Carrier')" routerLink="/shipments" routerLinkActive="router-link-active" [state]="{ statisticKey: setStatisticKeyTop10Carrier(dataItem.name), statisticFilter:top10CarrierDropdownModel  }">
                                    {{dataItem.noOfShipment | number}}
                                </a>
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="totalVolume" title="{{'label.volumeCBM' | translate}}"  [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                {{dataItem.totalVolume | number: '0.3'}}
                            </div>
                        </ng-template>
                    </kendo-grid-column>

                    <kendo-grid-column field="totalGrossWeight" title="{{'label.grossWeightKGS' | translate}}" [headerClass]="'right-cell'">
                        <ng-template kendoGridCellTemplate let-dataItem>
                            <div class="right-cell">
                                {{dataItem.totalGrossWeight | number: '0.2'}}
                            </div>
                        </ng-template>
                    </kendo-grid-column>
                </kendo-grid>
                <span *ngIf="top10CarrierThisWeek && top10CarrierThisWeek.data && top10CarrierThisWeek.data.length < 1" class="no-data-msg">
                    {{'label.noDataAvailable' | translate }}
                </span>
            </div>
        </div>
    </div>
</div>
